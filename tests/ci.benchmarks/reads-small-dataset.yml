version: 0.2
name: "READS-SMALL-DATASET"
remote:
  - setup: redisearch-r5
  - type: oss-standalone
dbconfig:
  - dataset: "datasets/reads-small-dataset.rdb"
clientconfig:
  - tool: redis-benchmark
  - min-tool-version: 6.2.0
  - parameters:
    - clients: 32
    - requests: 10000
    - threads: 4
    - pipeline: 1
    - command: 'FT.SEARCH idx:schedule "@toc_foc:HL @destination_location:London"'
kpis:
  - le: { "$.Tests.'FT.SEARCH idx:schedule @toc_foc:HL @destination_location:London'.p50_latency_ms": 20.0 }
  - ge: { "$.Tests.'FT.SEARCH idx:schedule @toc_foc:HL @destination_location:London'.rps": 2000 }
exporter:
  redistimeseries:
    timemetric: "$.StartTime"
    metrics:
      - "$.Tests.'FT.SEARCH idx:schedule @toc_foc:HL @destination_location:London'.p50_latency_ms"
      - "$.Tests.'FT.SEARCH idx:schedule @toc_foc:HL @destination_location:London'.rps"